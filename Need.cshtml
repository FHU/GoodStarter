@{
    Layout = "~/_SiteLayout.cshtml";
    Page.Title = "Need";

    var NeedID = UrlData[0];

    var id = 0;

    if (!NeedID.IsEmpty() && NeedID.IsInt()) {
        id = Convert.ToInt32(NeedID);
    }

    var db = Database.Open("GoodStarter");
    var needInfo = db.QuerySingle("SELECT CreatorID, NeedTitle FROM Need WHERE NeedID = @0", id);
    var needDescription = db.QuerySingle("SELECT Description FROM Need WHERE NeedID = @0", id);
    var userInfo = db.QuerySingle("SELECT * FROM UserProfile WHERE UserId = @0", needInfo.CreatorID);
    var updatePosts = db.Query("SELECT * FROM Updates WHERE NeedID = @0 ORDER BY PostDate DESC", id);
}

@RenderPage("NeedNav.cshtml")

<section class="description">

    <div class="row">
        <div class="col-md-8">

            <div class="video">
                <iframe width="600" height="400" src="http://www.youtube.com/embed/01TL9bUWr6I" frameborder="0" allowfullscreen=""></iframe>
            </div>

        </div>

        <div class="col-md-4">
            <div class="need-stats">
                <h4><span class="stat-num">2</span> Need Meeters</h4>
                <h4><span class="stat-num">9</span> Days to Go</h4>
                <h4><span class="stat-num">14</span> Watching</h4>
                <div class="meet-need-button">Meet Need</div>
            </div>

            </br>
            <p>This need will only be met if a Meeter is found by Fri, Nov 21 2014 3:00 PM.</p>
        </div>
    </div>
    <div class="row">
    <div class="col-md-8">
                <h2>More Info</h2>
                <p>@needDescription.Description</p>
    </div>
</div>
    </div>
</section>