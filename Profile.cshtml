@{
    Layout = "~/_SiteLayout.cshtml";
    Page.Title = "Profile";
    
    var needID = UrlData[0];
    var id = 0;
    if (!needID.IsEmpty() && needID.IsInt()) {
        id = Convert.ToInt32(needID);
    }
    
    

    var db = Database.Open("GoodStarter");
    var needInfo = db.Query("SELECT CreatorID, NeedTitle FROM Need WHERE NeedID = @0", id);
    var userInfo = db.QuerySingle("SELECT * FROM UserProfile WHERE UserId = @0", needInfo.CreatorID);
    var updatePosts = db.Query("SELECT * FROM Updates WHERE NeedID = @0 ORDER BY PostDate DESC", id); 
    
}


    <div class="title-creator-info">
        <div class="col-md-2">
            <img class="creator-img float-left" src="~/Images/@userInfo.Picture" />

        </div>
        <section id="description">
        <div class="col-md-3">
            <h1>@userInfo.FirstName @userInfo.LastName</h1>
            <h3>@userInfo.education</h3> 
            <h3>@userInfo.HomeTown, <b>@userInfo.HomeState</b></h3>
        </div>
        <div>
            <h4><b>About me:</b><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosq.</p></h4>
        </div>
        </section>
        
        @foreach( var need in needInfo) { 
        <div class="col-md-12">
            <div class="need-stats">
                <h3><b>Need:</b>@need.needTitle</h3>
                <h4><span class="stat-num">9</span> Days to Go</h4>
                <h4><span class="stat-num">14</span> Watching</h4>
                <div class="meet-need-button">View Need</div>
            </div>
            </br>
            <p>This need will only be met if a Meeter is found by Fri, Nov 21 2014 3:00 PM.</p>
        </div>
        }
    
  </div>
   
